<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="date" content="2016-01-13" />

<title>第三堂：Ｒ語言視覺化與報表</title>

<script src="index_files/jquery-1.11.0/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="index_files/bootstrap-3.3.1/css/readable.min.css" rel="stylesheet" />
<script src="index_files/bootstrap-3.3.1/js/bootstrap.min.js"></script>
<script src="index_files/bootstrap-3.3.1/shim/html5shiv.min.js"></script>
<script src="index_files/bootstrap-3.3.1/shim/respond.min.js"></script>
<script src="index_files/htmlwidgets-0.5/htmlwidgets.js"></script>
<script src="index_files/plotlyjs-1.2.1/plotly-latest.min.js"></script>
<script src="index_files/plotly-binding-2.0.19/plotly.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #2a211c; color: #bdae9d; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; background-color: #2a211c; color: #bdae9d; border-right: 1px solid #bdae9d; }
td.sourceCode { padding-left: 5px; }
pre, code { color: #bdae9d; background-color: #2a211c; }
code > span.kw { color: #43a8ed; font-weight: bold; } /* Keyword */
code > span.dt { text-decoration: underline; } /* DataType */
code > span.dv { color: #44aa43; } /* DecVal */
code > span.bn { color: #44aa43; } /* BaseN */
code > span.fl { color: #44aa43; } /* Float */
code > span.ch { color: #049b0a; } /* Char */
code > span.st { color: #049b0a; } /* String */
code > span.co { color: #0066ff; font-style: italic; } /* Comment */
code > span.al { color: #ffff00; } /* Alert */
code > span.fu { color: #ff9358; font-weight: bold; } /* Function */
code > span.er { color: #ffff00; font-weight: bold; } /* Error */
code > span.wa { color: #ffff00; font-weight: bold; } /* Warning */
code > span.cn { } /* Constant */
code > span.sc { color: #049b0a; } /* SpecialChar */
code > span.vs { color: #049b0a; } /* VerbatimString */
code > span.ss { color: #049b0a; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { } /* Variable */
code > span.cf { color: #43a8ed; font-weight: bold; } /* ControlFlow */
code > span.op { } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { font-weight: bold; } /* Preprocessor */
code > span.at { } /* Attribute */
code > span.do { color: #0066ff; font-style: italic; } /* Documentation */
code > span.an { color: #0066ff; font-weight: bold; font-style: italic; } /* Annotation */
code > span.co { color: #0066ff; font-weight: bold; font-style: italic; } /* Comment */
code > span.in { color: #0066ff; font-weight: bold; font-style: italic; } /* Information */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<link rel="stylesheet" href="main.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img { 
  max-width:100%; 
  height: auto; 
}
</style>
<div class="container-fluid main-container">


<div id="header">
<h1 class="title">第三堂：Ｒ語言視覺化與報表</h1>
<h3 class="subtitle"><em>永豐銀行Ｒ語言課程</em></h3>
<h4 class="author"><em>George Chao</em></h4>
<address class="author_afil">
木刻思股份有限公司<br><a class="author_email" href="mailto:#"><a href="mailto:course@agilearning.io">course@agilearning.io</a>, <a href="mailto:george@data-sci.info">george@data-sci.info</a></a>
</address>
<h4 class="date"><em>January 13, 2016</em></h4>
</div>

<div id="TOC">
<ul>
<li><a>0 關於教材授權</a></li>
<li><a href="#mini-example-to-overview-etl-viz">1 Mini example to overview ETL + Viz</a></li>
<li><a href="#charts-with-ggplot2">1.2 Charts with ggplot2</a></li>
<li><a href="#eda-from-data-visualization">2 EDA from Data Visualization</a></li>
<li><a href="#r-markdown-features">3 R Markdown Features</a></li>
</ul>
</div>

<div class="section level1">
<h1>0 關於教材授權</h1>
<p>本教材之智慧財產權， 屬木刻思股份有限公司所有。</p>
<p>如果有朋友，覺得此教材很棒，希望能分享給朋友，或是拿此教材開課。非常歡迎大家來信至 <a href="mailto:course@agilearning.io">course@agilearning.io</a> 請求教材的使用授權唷！</p>
<hr />
</div>
<div id="mini-example-to-overview-etl-viz" class="section level1">
<h1>1 Mini example to overview ETL + Viz</h1>
<ul>
<li><h3 id="fist-thing-check-your-environment">Fist Thing check your environment</h3></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(datasets);<span class="kw">library</span>(dplyr);<span class="kw">library</span>(ggplot2);<span class="kw">library</span>(devtools);<span class="kw">library</span>(reshape2)
<span class="kw">getwd</span>()</code></pre></div>
<pre><code>## [1] &quot;/home/gg/works/R_Courses/RReportCrashCourse&quot;</code></pre>
<ul>
<li><h3 id="load-data-setting-env">Load Data &amp; Setting Env</h3></li>
<li><h3 id="-shell-">1. 打開 <code>shell</code> 輸入指令下載資料集</h3></li>
<li><p><code>git clone https://github.com/whizzalan/RReportCrashCourse.git</code></p></li>
<li><h3 id="-rstudio-console-">2. 在 RStudio console 輸入指令，切換工作目錄並確認下載內容。</h3></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">setwd</span>(<span class="st">&quot;RReportCrashCourse&quot;</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dir</span>()</code></pre></div>
<pre><code>## [1] &quot;data&quot;              &quot;img&quot;               &quot;index_cache&quot;      
## [4] &quot;index_files&quot;       &quot;index.html&quot;        &quot;index.Rmd&quot;        
## [7] &quot;installPackages.R&quot; &quot;main.css&quot;          &quot;README.md&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">### 如果沒辦法讀到資料的直接執行看看下面程式馬
url &lt;-<span class="st"> &quot;https://github.com/whizzalan/RReportCrashCourse/raw/gh-pages/data/datasets.rda&quot;</span>
<span class="kw">download.file</span>(url,<span class="kw">paste0</span>(<span class="kw">getwd</span>(),<span class="st">&quot;/data/datasets.rda&quot;</span>))
if(.Platform$OS.type !=<span class="st"> &quot;unix&quot;</span>) <span class="kw">load</span>(<span class="st">&quot;data/datasets_big5.rda&quot;</span>) else <span class="kw">load</span>(<span class="st">&quot;data/datasets.rda&quot;</span>)

<span class="co"># 列出R環境中有的物件</span>
<span class="co"># datasets::anscombe, Cl_info, creditData</span>
<span class="kw">ls</span>()</code></pre></div>
<pre><code>##  [1] &quot;a&quot;                   &quot;AM_Odd&quot;              &quot;ans1&quot;               
##  [4] &quot;ans2&quot;                &quot;bankingUrl&quot;          &quot;Bet&quot;                
##  [7] &quot;Cl_info&quot;             &quot;credit&quot;              &quot;creditData&quot;         
## [10] &quot;d&quot;                   &quot;DF&quot;                  &quot;doc&quot;                
## [13] &quot;doc_str&quot;             &quot;DT&quot;                  &quot;fac&quot;                
## [16] &quot;fileName&quot;            &quot;Games&quot;               &quot;gg&quot;                 
## [19] &quot;github_Packages&quot;     &quot;github_PackagesName&quot; &quot;grpsize&quot;            
## [22] &quot;hist.ggplot&quot;         &quot;hist.ggvis&quot;          &quot;hist.rcharts&quot;       
## [25] &quot;HM&quot;                  &quot;HM_Odd&quot;              &quot;html&quot;               
## [28] &quot;i&quot;                   &quot;img.height&quot;          &quot;img.width&quot;          
## [31] &quot;index&quot;               &quot;l2&quot;                  &quot;monthsUrl&quot;          
## [34] &quot;monthsUrl1&quot;          &quot;monthsUrlList&quot;       &quot;mtcars&quot;             
## [37] &quot;mtcars.mean&quot;         &quot;n&quot;                   &quot;p&quot;                  
## [40] &quot;packages&quot;            &quot;packages_w1&quot;         &quot;packages_w2&quot;        
## [43] &quot;packages_w3&quot;         &quot;packages_w4&quot;         &quot;py&quot;                 
## [46] &quot;quartet&quot;             &quot;res&quot;                 &quot;resp&quot;               
## [49] &quot;shopping_list&quot;       &quot;ss&quot;                  &quot;sss&quot;                
## [52] &quot;t&quot;                   &quot;try1&quot;                &quot;try2&quot;               
## [55] &quot;try3&quot;                &quot;try4&quot;                &quot;tt&quot;                 
## [58] &quot;ttt&quot;</code></pre>
<ul>
<li><h3 id="data-aggregation">先前的數據觀察，小挑戰（Data Aggregation）</h3></li>
</ul>
<div id="anscombes-quartet-dataset" class="section level2">
<h2>1.1 Anscombe’s quartet dataset</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">quartet</code></pre></div>
<pre><code>##    set  x     y
## 1    I 10  8.04
## 2    I  8  6.95
## 3    I 13  7.58
## 4    I  9  8.81
## 5    I 11  8.33
## 6    I 14  9.96
## 7    I  6  7.24
## 8    I  4  4.26
## 9    I 12 10.84
## 10   I  7  4.82
## 11   I  5  5.68
## 12  II 10  9.14
## 13  II  8  8.14
## 14  II 13  8.74
## 15  II  9  8.77
## 16  II 11  9.26
## 17  II 14  8.10
## 18  II  6  6.13
## 19  II  4  3.10
## 20  II 12  9.13
## 21  II  7  7.26
## 22  II  5  4.74
## 23 III 10  7.46
## 24 III  8  6.77
## 25 III 13 12.74
## 26 III  9  7.11
## 27 III 11  7.81
## 28 III 14  8.84
## 29 III  6  6.08
## 30 III  4  5.39
## 31 III 12  8.15
## 32 III  7  6.42
## 33 III  5  5.73
## 34  IV  8  6.58
## 35  IV  8  5.76
## 36  IV  8  7.71
## 37  IV  8  8.84
## 38  IV  8  8.47
## 39  IV  8  7.04
## 40  IV  8  5.25
## 41  IV 19 12.50
## 42  IV  8  5.56
## 43  IV  8  7.91
## 44  IV  8  6.89</code></pre>
<ul>
<li><h3>試做出下列表單</h3></li>
</ul>
<pre><code>##   mean(x)    sd(x)  mean(y)    sd(y) cor(x, y)
## 1       9 3.198837 7.500682 1.958925 0.8163662</code></pre>
<div id="hint" class="section level3">
<h3><a href="https://suensummit.github.io/RCourseBankSinoPac/week2handouts.html">HINT</a></h3>
<ul>
<li>回顧第二週ETL所學的 Example 5: group_by + summarise</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Cl_info %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(bank_nm) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="kw">mean</span>(mortgage_cnt))</code></pre></div>
<pre><code>##   mean(mortgage_cnt)
## 1           22537.59</code></pre>
<!-- end of list -->
<hr />
</div>
</div>
</div>
<div id="charts-with-ggplot2" class="section level1">
<h1>1.2 Charts with ggplot2</h1>
<ul>
<li><h3 id="the-importance-of-graphing-data-before-analyzing">The importance of graphing data before analyzing</h3></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)
p =<span class="st"> </span><span class="kw">ggplot</span>(quartet, <span class="kw">aes</span>(x, y)) +<span class="st"> </span><span class="kw">geom_point</span>()
p =<span class="st"> </span>p +<span class="st"> </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> lm, <span class="dt">se =</span> <span class="ot">FALSE</span>)
p =<span class="st"> </span>p +<span class="st"> </span><span class="kw">facet_wrap</span>(~set)
p</code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-10-1.png" title="" alt="" width="672" /></p>
<div id="ggplot-usage" class="section level2">
<h2>1.3 ggplot Usage</h2>
<ul>
<li>qplot() - for quick plots</li>
</ul>
<blockquote>
<p>qplot(x, y, data=, color=, shape=, size=, alpha=, <br> 　　　geom=, method=, formula=, facets=, <br> 　　　xlim=, ylim= xlab=, ylab=, main=, sub=)</p>
</blockquote>
<ul>
<li>ggplot() - for fine, granular control of everything
<ul>
<li>dataframe, aes()</li>
<li>multi-layers</li>
<li>geom_<code>xxx</code>(): Geometric objects that define the basic “shape” of the elements on the plot
<ul>
<li><a href="http://docs.ggplot2.org/current/">ggplot online help topics</a></li>
</ul></li>
</ul></li>
</ul>
<blockquote>
<p>ggplot(data = , aes( x = , y = ), fill = , colour = ) + <br> 　　　　geom_() + <br> 　　　　theme_() + <br> 　　　　coord_() + facet_() + stat_ () + … <br></p>
</blockquote>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># list all geom</span>
<span class="kw">ls</span>(<span class="dt">pattern =</span> <span class="st">&#39;^geom_&#39;</span>, <span class="dt">env =</span> <span class="kw">as.environment</span>(<span class="st">&#39;package:ggplot2&#39;</span>))</code></pre></div>
<pre><code>##  [1] &quot;geom_abline&quot;     &quot;geom_area&quot;       &quot;geom_bar&quot;       
##  [4] &quot;geom_bin2d&quot;      &quot;geom_blank&quot;      &quot;geom_boxplot&quot;   
##  [7] &quot;geom_contour&quot;    &quot;geom_count&quot;      &quot;geom_crossbar&quot;  
## [10] &quot;geom_curve&quot;      &quot;geom_density&quot;    &quot;geom_density2d&quot; 
## [13] &quot;geom_density_2d&quot; &quot;geom_dotplot&quot;    &quot;geom_errorbar&quot;  
## [16] &quot;geom_errorbarh&quot;  &quot;geom_freqpoly&quot;   &quot;geom_hex&quot;       
## [19] &quot;geom_histogram&quot;  &quot;geom_hline&quot;      &quot;geom_jitter&quot;    
## [22] &quot;geom_label&quot;      &quot;geom_line&quot;       &quot;geom_linerange&quot; 
## [25] &quot;geom_map&quot;        &quot;geom_path&quot;       &quot;geom_point&quot;     
## [28] &quot;geom_pointrange&quot; &quot;geom_polygon&quot;    &quot;geom_qq&quot;        
## [31] &quot;geom_quantile&quot;   &quot;geom_raster&quot;     &quot;geom_rect&quot;      
## [34] &quot;geom_ribbon&quot;     &quot;geom_rug&quot;        &quot;geom_segment&quot;   
## [37] &quot;geom_smooth&quot;     &quot;geom_spoke&quot;      &quot;geom_step&quot;      
## [40] &quot;geom_text&quot;       &quot;geom_tile&quot;       &quot;geom_violin&quot;    
## [43] &quot;geom_vline&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ls</span>(<span class="dt">pattern =</span> <span class="st">&#39;^stat_&#39;</span>, <span class="dt">env =</span> <span class="kw">as.environment</span>(<span class="st">&#39;package:ggplot2&#39;</span>))</code></pre></div>
<pre><code>##  [1] &quot;stat_bin&quot;         &quot;stat_bin2d&quot;       &quot;stat_bin_2d&quot;     
##  [4] &quot;stat_binhex&quot;      &quot;stat_bin_hex&quot;     &quot;stat_boxplot&quot;    
##  [7] &quot;stat_contour&quot;     &quot;stat_count&quot;       &quot;stat_density&quot;    
## [10] &quot;stat_density2d&quot;   &quot;stat_density_2d&quot;  &quot;stat_ecdf&quot;       
## [13] &quot;stat_ellipse&quot;     &quot;stat_function&quot;    &quot;stat_identity&quot;   
## [16] &quot;stat_qq&quot;          &quot;stat_quantile&quot;    &quot;stat_smooth&quot;     
## [19] &quot;stat_spoke&quot;       &quot;stat_sum&quot;         &quot;stat_summary&quot;    
## [22] &quot;stat_summary2d&quot;   &quot;stat_summary_2d&quot;  &quot;stat_summary_bin&quot;
## [25] &quot;stat_summary_hex&quot; &quot;stat_unique&quot;      &quot;stat_ydensity&quot;</code></pre>
<!-- end of list -->
<hr />
</div>
</div>
<div id="eda-from-data-visualization" class="section level1">
<h1>2 EDA from Data Visualization</h1>
<div id="etl-recap-barchart" class="section level2">
<h2>2.1 ETL Recap &amp; barchart</h2>
<ul>
<li><h3 id="10308-10410">再次複習第二週所用資料，資料來源：10308-10410信用卡重要資訊揭露</h3></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 觀看資料外觀</span>
<span class="kw">dim</span>(creditData)</code></pre></div>
<pre><code>## [1] 552  15</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># show 資料欄位</span>
<span class="kw">names</span>(creditData)</code></pre></div>
<pre><code>##  [1] &quot;月份&quot;                                          
##  [2] &quot;金融機構名稱&quot;                                  
##  [3] &quot;流通卡數&quot;                                      
##  [4] &quot;有效卡數&quot;                                      
##  [5] &quot;當月發卡數&quot;                                    
##  [6] &quot;當月停卡數&quot;                                    
##  [7] &quot;循環信用餘額&quot;                                  
##  [8] &quot;未到期分期付款餘額&quot;                            
##  [9] &quot;當月簽帳金額&quot;                                  
## [10] &quot;當月預借現金金額&quot;                              
## [11] &quot;逾期三個月以上帳款占應收帳款餘額含催收款之比率&quot;
## [12] &quot;逾期六個月以上帳款占應收帳款餘額含催收款之比率&quot;
## [13] &quot;備抵呆帳提足率&quot;                                
## [14] &quot;當月轉銷呆帳金額&quot;                              
## [15] &quot;當年度轉銷呆帳金額累計至資料月份&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Glance：窺一窺</span>
<span class="kw">head</span>(creditData,<span class="dv">5</span>)</code></pre></div>
<pre><code>##    月份     金融機構名稱 流通卡數 有效卡數 當月發卡數 當月停卡數
## 1 10308     臺灣土地銀行   124823    53892        799       1279
## 2 10308 合作金庫商業銀行   418860   230771       7347       4045
## 3 10308     第一商業銀行   738718   501452      10335       6207
## 4 10308     華南商業銀行   695329   459618      15893       7532
## 5 10308     彰化商業銀行   368628   190944      10390       2595
##   循環信用餘額 未到期分期付款餘額 當月簽帳金額 當月預借現金金額
## 1       218629              27270       340832              536
## 2       615212             149391      1701999             4768
## 3      1263380             827813      3212253            12073
## 4       602401             661945      2817399              923
## 5       161951              41026      1012061              648
##   逾期三個月以上帳款占應收帳款餘額含催收款之比率
## 1                                      0.7893302
## 2                                      0.6213265
## 3                                      0.1058145
## 4                                      0.1560892
## 5                                      0.1251310
##   逾期六個月以上帳款占應收帳款餘額含催收款之比率 備抵呆帳提足率
## 1                                      0.6805780       857.6586
## 2                                      0.5769584       228.1710
## 3                                      0.0000000      2557.8060
## 4                                      0.0000000      1090.0999
## 5                                      0.1242378       685.0680
##   當月轉銷呆帳金額 當年度轉銷呆帳金額累計至資料月份
## 1             1015                             4855
## 2                0                            19364
## 3             3987                            37556
## 4                0                            15984
## 5             1410                            10877</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">tail</span>(creditData,<span class="dv">5</span>)</code></pre></div>
<pre><code>##        月份               金融機構名稱 流通卡數 有效卡數 當月發卡數
## 548 附表4_1           中國信託商業銀行  5758500  3722803      64762
## 549 附表4_1   台灣美國運通國際(股)公司   161135    90036       3042
## 550 附表4_1 台灣大來國際信用卡(股)公司    26557    10428          0
## 551 附表4_1     台灣永旺信用卡(股)公司   119637   110133       8968
## 552 附表4_1                       總計 37297249 24175779     453999
##     當月停卡數 循環信用餘額 未到期分期付款餘額 當月簽帳金額
## 548      29628     15323950           14401920     24170576
## 549       2410       332742                  0      3803823
## 550        357        26729               3169        60412
## 551      44363       347079              91959       227441
## 552     347680    113212122           80178942    162614863
##     當月預借現金金額 逾期三個月以上帳款占應收帳款餘額含催收款之比率
## 548           628730                                      0.1509203
## 549                0                                      0.2093867
## 550             1156                                      0.6864040
## 551             3305                                      1.4865396
## 552          2216238                                      0.2602332
##     逾期六個月以上帳款占應收帳款餘額含催收款之比率 備抵呆帳提足率
## 548                                   0.0008390633       784.2901
## 549                                   0.0000000000       452.3338
## 550                                   0.0261902943      2041.8006
## 551                                   0.5694548048       767.7084
## 552                                   0.0322688253       694.6671
##     當月轉銷呆帳金額 當年度轉銷呆帳金額累計至資料月份
## 548            61024                           677463
## 549             1170                            30425
## 550              377                             3000
## 551             1884                            26931
## 552           390341                          3946066</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(creditData)</code></pre></div>
<pre><code>## &#39;data.frame&#39;:    552 obs. of  15 variables:
##  $ 月份                                          : Factor w/ 15 levels &quot;10308&quot;,&quot;10309&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
##  $ 金融機構名稱                                  : chr  &quot;臺灣土地銀行&quot; &quot;合作金庫商業銀行&quot; &quot;第一商業銀行&quot; &quot;華南商業銀行&quot; ...
##  $ 流通卡數                                      : num  124823 418860 738718 695329 368628 ...
##  $ 有效卡數                                      : num  53892 230771 501452 459618 190944 ...
##  $ 當月發卡數                                    : num  799 7347 10335 15893 10390 ...
##  $ 當月停卡數                                    : num  1279 4045 6207 7532 2595 ...
##  $ 循環信用餘額                                  : num  218629 615212 1263380 602401 161951 ...
##  $ 未到期分期付款餘額                            : num  27270 149391 827813 661945 41026 ...
##  $ 當月簽帳金額                                  : num  340832 1701999 3212253 2817399 1012061 ...
##  $ 當月預借現金金額                              : num  536 4768 12073 923 648 ...
##  $ 逾期三個月以上帳款占應收帳款餘額含催收款之比率: num  0.789 0.621 0.106 0.156 0.125 ...
##  $ 逾期六個月以上帳款占應收帳款餘額含催收款之比率: num  0.681 0.577 0 0 0.124 ...
##  $ 備抵呆帳提足率                                : num  858 228 2558 1090 685 ...
##  $ 當月轉銷呆帳金額                              : num  1015 0 3987 0 1410 ...
##  $ 當年度轉銷呆帳金額累計至資料月份              : num  4855 19364 37556 15984 10877 ...</code></pre>
<div id="data-wrangling-first-step-data-cleaning" class="section level3">
<h3>2.1.1 Data Wrangling First Step: data cleaning</h3>
<ul>
<li>資料中月份欄位髒髒的</li>
</ul>
<p><img src="img/filenames.png" alt="" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 確認問題欄位</span>
<span class="kw">unique</span>(creditData$月份)</code></pre></div>
<pre><code>##  [1] 10308   10309   10310   10312   10401   10402   10403   10404  
##  [9] 10406   10407   10408   10409   10410   更新_10 附表4_1
## 15 Levels: 10308 10309 10310 10312 10401 10402 10403 10404 10406 ... 附表4_1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">credit &lt;-<span class="st"> </span>creditData
<span class="co"># 更改資料格式</span>
credit$月份 &lt;-<span class="st"> </span><span class="kw">as.character</span>(credit$月份)
credit$月份 &lt;-<span class="st"> </span><span class="kw">ifelse</span>(<span class="dt">test =</span> credit$月份 ==<span class="st"> &quot;更新_10&quot;</span>, <span class="dt">yes =</span> <span class="st">&quot;10405&quot;</span>, <span class="dt">no =</span> credit$月份)
credit$月份 &lt;-<span class="st"> </span><span class="kw">ifelse</span>(<span class="dt">test =</span> credit$月份 ==<span class="st"> &quot;附表4_1&quot;</span>, <span class="dt">yes =</span> <span class="st">&quot;10311&quot;</span>, <span class="dt">no =</span> credit$月份)
<span class="kw">unique</span>(credit$月份)</code></pre></div>
<pre><code>##  [1] &quot;10308&quot; &quot;10309&quot; &quot;10310&quot; &quot;10312&quot; &quot;10401&quot; &quot;10402&quot; &quot;10403&quot; &quot;10404&quot;
##  [9] &quot;10406&quot; &quot;10407&quot; &quot;10408&quot; &quot;10409&quot; &quot;10410&quot; &quot;10405&quot; &quot;10311&quot;</code></pre>
</div>
<div id="data-wrangling-second-step-data-type-conversion" class="section level3">
<h3>2.1.2 Data Wrangling Second Step: data type conversion</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># dplyr::mutate is fast !!!</span>
<span class="co"># credit &lt;- credit %&gt;% mutate(</span>
<span class="co">#   月份 = as.numeric(月份)</span>
<span class="co"># )</span>
<span class="co"># 試畫看看，我發現惹什麼問題？</span>
credit %&gt;%<span class="st"> </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>月份,<span class="dt">y=</span>流通卡數)) +<span class="st"> </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">group=</span>金融機構名稱))</code></pre></div>
<p><img src="index_files/figure-html/data-1.png" title="" alt="" width="672" /></p>
</div>
<div id="data-wrangling-filter-your-data" class="section level3">
<h3>2.1.3 Data Wrangling: filter your data</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 我只想先挑選10月的來看和幾個欄位</span>
try1 &lt;-<span class="st"> </span>credit %&gt;%<span class="st"> </span><span class="kw">select</span>(金融機構名稱, 月份, 流通卡數, 有效卡數, 當月發卡數, 當月停卡數) %&gt;%<span class="st"> </span><span class="kw">filter</span>(金融機構名稱 !=<span class="st"> &quot;總計&quot;</span>) %&gt;%<span class="st"> </span><span class="kw">filter</span>(月份==<span class="st">&#39;10410&#39;</span>)
<span class="co"># 傳統劃法</span>
<span class="kw">barplot</span>(try1$流通卡數,<span class="dt">names=</span>try1$金融機構名稱,<span class="dt">horiz=</span><span class="ot">TRUE</span>,<span class="dt">las=</span><span class="dv">1</span>,<span class="dt">cex.names=</span><span class="fl">0.5</span>)</code></pre></div>
<p><img src="index_files/figure-html/filterToBarChart-1.png" title="" alt="" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 現行主流畫法</span>
p &lt;-<span class="st"> </span><span class="kw">ggplot</span>(try1,<span class="kw">aes</span>(<span class="dt">x=</span>金融機構名稱,<span class="dt">y=</span>流通卡數)) +<span class="st"> </span><span class="kw">geom_bar</span>(<span class="dt">stat=</span><span class="st">&#39;identity&#39;</span>) +<span class="st"> </span><span class="kw">coord_flip</span>()
p</code></pre></div>
<p><img src="index_files/figure-html/filterToBarChart-2.png" title="" alt="" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 潮流劃法</span>
<span class="kw">library</span>(plotly)
try1 %&gt;%<span class="st"> </span><span class="kw">plot_ly</span>(<span class="dt">x =</span> 流通卡數, <span class="dt">y =</span> 金融機構名稱, <span class="dt">type=</span><span class="st">&quot;bar&quot;</span>, <span class="dt">orientation =</span> <span class="st">&quot;h&quot;</span>)</code></pre></div>
<p><div id="htmlwidget-6439" style="width:672px;height:480px;" class="plotly"></div>
<script type="application/json" data-for="htmlwidget-6439">{"x":{"data":[{"type":"bar","inherit":true,"x":[228340,174901,395473,891340,792123,434771,365688,2275159,5071267,9086,601979,2918634,613930,332592,395830,189490,630201,10267,907443,70353,16779,1815908,1510258,412631,2169164,3907811,507823,12647,3583167,600381,189900,189731,5869043,56432,162333,93600],"y":["臺灣銀行","臺灣土地銀行","合作金庫商業銀行","第一商業銀行","華南商業銀行","彰化商業銀行","上海商業儲蓄銀行","台北富邦商業銀行","國泰世華商業銀行","高雄銀行","兆豐國際商業銀行","花旗(台灣)商業銀行","澳盛(台灣)商業銀行","臺灣中小企業銀行","渣打國際商業銀行","台中商業銀行","匯豐(台灣)商業銀行","華泰商業銀行","臺灣新光商業銀行","陽信商業銀行","三信商業銀行","聯邦商業銀行","遠東國際商業銀行","元大商業銀行","永豐商業銀行","玉山商業銀行","凱基商業銀行","星展(台灣)商業銀行","台新國際商業銀行","大眾商業銀行","日盛國際商業銀行","安泰商業銀行","中國信託商業銀行","台灣樂天信用卡(股)公司","台灣美國運通國際(股)公司","台灣永旺信用卡(股)公司"],"orientation":"h"}],"layout":{"xaxis":{"title":"流通卡數"},"yaxis":{"title":"金融機構名稱"},"margin":{"b":40,"l":60,"t":25,"r":10}},"url":null,"width":null,"height":null,"base_url":"https://plot.ly","layout.1":{"xaxis":{"title":"流通卡數"},"yaxis":{"title":"金融機構名稱"}},"filename":"流通卡數 vs. 金融機構名稱"},"evals":[]}</script></p>
</div>
<div id="data-wrangling-arrange-your-data" class="section level3">
<h3>2.1.4 Data Wrangling: arrange your data</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 將資料排序畫圖</span>
try1 &lt;-<span class="st"> </span>try1 %&gt;%<span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(流通卡數))
<span class="kw">head</span>(try1)</code></pre></div>
<pre><code>##         金融機構名稱  月份 流通卡數 有效卡數 當月發卡數 當月停卡數
## 1   中國信託商業銀行 10410  5869043  3826677      45828      30599
## 2   國泰世華商業銀行 10410  5071267  3564481      60545      85098
## 3       玉山商業銀行 10410  3907811  2735477      46188      22691
## 4   台新國際商業銀行 10410  3583167  2431192      33148      25434
## 5 花旗(台灣)商業銀行 10410  2918634  2486708      18019      30029
## 6   台北富邦商業銀行 10410  2275159  1617158      24034      24501</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 找出永豐銀行的位置, #7</span>
index=<span class="kw">which</span>(try1$金融機構名稱==<span class="st">&quot;永豐商業銀行&quot;</span>)

## 由於金融機構名稱並非factor,ggplot2 group顏色吃factor
<span class="co"># transformation</span>
try1 &lt;-<span class="st"> </span>try1 %&gt;%<span class="st"> </span><span class="kw">mutate</span>(金融機構名稱=<span class="kw">factor</span>(try1$金融機構名稱,<span class="dt">levels=</span>try1$金融機構名稱))

<span class="co"># 挑選出永豐銀行前後兩的來比較</span>
try2 &lt;-<span class="st"> </span>try1 %&gt;%<span class="st"> </span><span class="kw">filter</span>(<span class="kw">between</span>(<span class="kw">row_number</span>(),index<span class="dv">-3</span>,index<span class="dv">+3</span>))

<span class="co"># 傳統畫法</span>
<span class="kw">barplot</span>(try2$流通卡數,<span class="dt">names=</span>try2$金融機構名稱,<span class="dt">horiz=</span><span class="ot">TRUE</span>,<span class="dt">las=</span><span class="dv">1</span>,<span class="dt">cex.names=</span><span class="fl">0.4</span>)</code></pre></div>
<p><img src="index_files/figure-html/arrangeToBarChart-1.png" title="" alt="" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 現行主流畫法</span>
p &lt;-<span class="st"> </span><span class="kw">ggplot</span>(try2,<span class="kw">aes</span>(<span class="dt">x=</span>金融機構名稱,<span class="dt">y=</span>流通卡數)) +<span class="st"> </span><span class="kw">geom_bar</span>(<span class="dt">stat=</span><span class="st">&#39;identity&#39;</span>) +<span class="st"> </span><span class="kw">coord_flip</span>()
p</code></pre></div>
<p><img src="index_files/figure-html/arrangeToBarChart-2.png" title="" alt="" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 潮流畫法</span>
<span class="kw">library</span>(plotly)
<span class="co"># 小技巧，要調整自型</span>
a &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">tickfont =</span> <span class="kw">list</span>(<span class="dt">color=</span><span class="st">&quot;blue&quot;</span>, <span class="dt">size =</span> <span class="dv">7</span>))
try2 %&gt;%<span class="st"> </span><span class="kw">plot_ly</span>(<span class="dt">x =</span> 流通卡數, <span class="dt">y =</span> 金融機構名稱, <span class="dt">type=</span><span class="st">&quot;bar&quot;</span>, <span class="dt">orientation =</span> <span class="st">&quot;h&quot;</span>) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">layout</span>(<span class="dt">xaxis =</span> a, <span class="dt">yaxis =</span> a)</code></pre></div>
<p><div id="htmlwidget-6257" style="width:672px;height:480px;" class="plotly"></div>
<script type="application/json" data-for="htmlwidget-6257">{"x":{"data":[{"type":"bar","inherit":true,"x":[3583167,2918634,2275159,2169164,1815908,1510258,907443],"y":["台新國際商業銀行","花旗(台灣)商業銀行","台北富邦商業銀行","永豐商業銀行","聯邦商業銀行","遠東國際商業銀行","臺灣新光商業銀行"],"orientation":"h"}],"layout":{"xaxis":{"tickfont":{"color":"blue","size":7},"title":"流通卡數"},"yaxis":{"tickfont":{"color":"blue","size":7},"title":"金融機構名稱"},"margin":{"b":40,"l":60,"t":25,"r":10}},"url":null,"width":null,"height":null,"base_url":"https://plot.ly","layout.1":{"xaxis":{"tickfont":{"color":"blue","size":7},"title":"流通卡數"},"yaxis":{"tickfont":{"color":"blue","size":7},"title":"金融機構名稱"}},"filename":"流通卡數 vs. 金融機構名稱"},"evals":[]}</script></p>
<!-- end of list -->
<hr />
</div>
</div>
<div id="line-plot" class="section level2">
<h2>2.2 Line Plot</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">try3 &lt;-<span class="st"> </span>credit %&gt;%<span class="st"> </span><span class="kw">select</span>(金融機構名稱, 月份, 流通卡數, 有效卡數, 當月發卡數, 當月停卡數) %&gt;%<span class="st"> </span><span class="kw">mutate</span>(金融機構名稱=<span class="kw">factor</span>(金融機構名稱,<span class="dt">levels=</span><span class="kw">unique</span>(金融機構名稱))) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(金融機構名稱 !=<span class="st"> &quot;總計&quot;</span>)
<span class="co"># 挑選出,之前比較的那幾家銀行</span>
try4 &lt;-<span class="st"> </span>try3 %&gt;%<span class="st"> </span><span class="kw">filter</span>(金融機構名稱 %in%<span class="st"> </span>try2$金融機構名稱)


try3 &lt;-<span class="st"> </span>try3 %&gt;%<span class="st"> </span><span class="kw">mutate</span>(月份=<span class="kw">factor</span>(月份,<span class="dt">levels=</span><span class="kw">sort</span>(<span class="kw">unique</span>(月份))))
<span class="kw">class</span>(try3$月份)</code></pre></div>
<pre><code>## [1] &quot;factor&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 現行主流畫法</span>
p &lt;-<span class="st"> </span><span class="kw">ggplot</span>(try3,<span class="kw">aes</span>(<span class="dt">x=</span>月份,<span class="dt">y=</span>流通卡數,<span class="dt">color=</span>金融機構名稱, <span class="dt">group =</span> 金融機構名稱)) +
<span class="st">  </span><span class="kw">geom_line</span>() 
p</code></pre></div>
<p><img src="index_files/figure-html/Line-1.png" title="" alt="" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">p &lt;-<span class="st"> </span><span class="kw">ggplot</span>(try4,<span class="kw">aes</span>(<span class="dt">x=</span>月份,<span class="dt">y=</span>流通卡數,<span class="dt">color=</span>金融機構名稱,<span class="dt">group =</span> 金融機構名稱)) +
<span class="st">  </span><span class="kw">geom_line</span>()
p</code></pre></div>
<p><img src="index_files/figure-html/Line-2.png" title="" alt="" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 潮流畫法（簡單板，某些可以！）</span>
<span class="kw">plot_ly</span>(p)</code></pre></div>
<p><div id="htmlwidget-8370" style="width:672px;height:480px;" class="plotly"></div>
<script type="application/json" data-for="htmlwidget-8370">{"x":{"data":[{"x":["10308","10309","10310","10311","10312","10401","10402","10403","10404","10405","10406","10407","10408","10409","10410"],"y":[2365225,2362729,2365768,2364369,2367995,2376014,2381816,2382773,2371443,2375060,2403451,2280596,2274799,2275626,2275159],"name":"台北富邦商業銀行","text":[null],"type":"scatter","mode":"lines","line":{"dash":"solid","color":"rgb(248,118,109)","width":5.34505913337863},"xaxis":"x1","yaxis":"y1","showlegend":true},{"x":["10308","10309","10310","10311","10312","10401","10402","10403","10404","10405","10406","10407","10408","10409","10410"],"y":[2870159,2884587,2895539,2902172,2908755,2907945,2929905,2926715,2926548,2923208,2923602,2923745,2921708,2921345,2918634],"name":"花旗(台灣)商業銀行","text":[null],"type":"scatter","mode":"lines","line":{"dash":"solid","color":"rgb(196,154,0)","width":5.34505913337863},"xaxis":"x1","yaxis":"y1","showlegend":true},{"x":["10308","10309","10310","10311","10312","10401","10402","10403","10404","10405","10406","10407","10408","10409","10410"],"y":[915317,915888,919137,919343,919693,915711,898152,895162,895126,893692,895696,897462,902155,903886,907443],"name":"臺灣新光商業銀行","text":[null],"type":"scatter","mode":"lines","line":{"dash":"solid","color":"rgb(83,180,0)","width":5.34505913337863},"xaxis":"x1","yaxis":"y1","showlegend":true},{"x":["10308","10309","10310","10311","10312","10401","10402","10403","10404","10405","10406","10407","10408","10409","10410"],"y":[1777700,1771951,1770664,1771271,1770774,1777391,1772811,1756151,1759390,1760832,1775563,1789386,1797061,1807333,1815908],"name":"聯邦商業銀行","text":[null],"type":"scatter","mode":"lines","line":{"dash":"solid","color":"rgb(0,192,148)","width":5.34505913337863},"xaxis":"x1","yaxis":"y1","showlegend":true},{"x":["10308","10309","10310","10311","10312","10401","10402","10403","10404","10405","10406","10407","10408","10409","10410"],"y":[1452464,1459554,1474541,1481054,1487776,1493439,1482479,1487942,1494199,1499358,1490141,1495432,1500324,1504646,1510258],"name":"遠東國際商業銀行","text":[null],"type":"scatter","mode":"lines","line":{"dash":"solid","color":"rgb(0,182,235)","width":5.34505913337863},"xaxis":"x1","yaxis":"y1","showlegend":true},{"x":["10308","10309","10310","10311","10312","10401","10402","10403","10404","10405","10406","10407","10408","10409","10410"],"y":[2168488,2164353,2167548,2174946,2178171,2184231,2180900,2188742,2194349,2199962,2203939,2209480,2212411,2165121,2169164],"name":"永豐商業銀行","text":[null],"type":"scatter","mode":"lines","line":{"dash":"solid","color":"rgb(165,138,255)","width":5.34505913337863},"xaxis":"x1","yaxis":"y1","showlegend":true},{"x":["10308","10309","10310","10311","10312","10401","10402","10403","10404","10405","10406","10407","10408","10409","10410"],"y":[3620273,3556034,3509808,3531899,3497227,3514678,3530779,3556402,3572233,3583601,3564681,3560269,3565954,3575453,3583167],"name":"台新國際商業銀行","text":[null],"type":"scatter","mode":"lines","line":{"dash":"solid","color":"rgb(251,97,215)","width":5.34505913337863},"xaxis":"x1","yaxis":"y1","showlegend":true}],"layout":{"xaxis":{"tickcolor":"rgb(51,51,51)","gridcolor":"rgb(255,255,255)","showgrid":true,"ticks":"outside","showticklabels":true,"type":"category","title":"月份","zeroline":false,"showline":false},"yaxis":{"tickcolor":"rgb(51,51,51)","gridcolor":"rgb(255,255,255)","showgrid":true,"ticks":"outside","showticklabels":true,"type":"linear","title":"流通卡數","zeroline":false,"showline":false},"plot_bgcolor":"rgb(235,235,235)","margin":{"b":40,"l":60,"t":25,"r":10},"legend":{"bordercolor":"transparent","x":1.01,"y":0.7125,"xref":"paper","yref":"paper","xanchor":"left","yanchor":"top","font":{"family":""},"bgcolor":"rgb(255,255,255)"},"showlegend":false,"titlefont":{"family":""},"paper_bgcolor":"rgb(255,255,255)"}},"evals":[]}</script></p>
<div id="hw----" class="section level4">
<h4>[練習&amp;HW] 畫畫看 <code>有效卡數</code> 與 <code>當月發卡數</code></h4>
<!-- end of list -->
<hr />
</div>
</div>
</div>
<div id="r-markdown-features" class="section level1">
<h1>3 R Markdown Features</h1>
<div class="section level3">
<h3>再次題列幾項好處</h3>
<ul>
<li>製作reproducible的報告、投影片: <code>document</code> 、 <code>slides</code></li>
<li>想寫數學式子好展現自己的專業 <span class="math inline">\(e=mc^2\)</span>: <code>mathjax</code></li>
<li>只有一份source code，不需要額外複製圖片到報告中: <code>.rmd</code></li>
<li>增加資料分析演算法的可讀性: <code>code and text</code></li>
<li>HTML的報告和投影片的格式方便瀏覽: <code>html</code></li>
<li>IDE? RStudio提供支援: <code>Knit Button</code></li>
</ul>
</div>
<div id="basic-syntax-format" class="section level2">
<h2>3.1 basic syntax (format)</h2>
<ul>
<li><h1>#最大標題</h1></li>
<li><h2>##大標題</h2></li>
<li><h3>###標題</h3></li>
<li><h5>####小標題</h5></li>
<li><p>分段落：兩個斷行</p></li>
<li><em>斜體</em>： <code>*斜體字*</code>, <strong>粗體</strong>: <code>**粗體字**</code></li>
<li><code>程式碼</code> 寫在行內： ` `</li>
<li><p>區段程式碼(chunk code)： <img src="img/chunk_code.png" alt="" /></p></li>
</ul>
</div>
<div id="overview-with-rsudio" class="section level2">
<h2>3.2 Overview with RSudio</h2>
<ul>
<li>YAML Metadata （RStudio範例）</li>
<li>Markdown （RStudio範例）</li>
<li>Makrdown Quick Reference<br />
</li>
<li><a href="https://www.rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf?version=0.99.764&amp;mode=desktop">Markdown Cheatsheet</a><br />
</li>
<li><a href="https://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf?version=0.99.764&amp;mode=desktop">Markdown Reference</a><br />
</li>
<li>R Code Chunk</li>
</ul>
</div>
<div id="inline-r-code-chunk-and-equations" class="section level2">
<h2>3.3 Inline R Code chunk and Equations</h2>
<ul>
<li>利用 `r` 在markdown中插入R程式</li>
<li>插入 LaTeX 公式的方法：
<ul>
<li>行內<code>$ equation $</code><br />
</li>
<li>段落 <code>$$ equation $$</code></li>
</ul></li>
<li><img src="img/equation.png" alt="" /></li>
<li>這是木刻思推出的第 3門課程</li>
<li>熵指標的公式為 <span class="math inline">\(-\sum{p_i \log{p_i}}\)</span>，表示系統的亂度</li>
</ul>
<div id="-chunk-chunk-option" class="section level4">
<h4>[練習] chunk &amp; chunk option</h4>
<ul>
<li>觀察將第一個 R Chunk中的 summary(cars) 改成 head(cars)</li>
<li>觀察 echo = TRUE -&gt; echo = FALSE 結果差異？</li>
<li>觀察 eval = TRUE -&gt; eval = FALSE 結果差異？</li>
<li>觀察在 chunk option 多加入 results = ‘asis’ 結果差異？</li>
<li>觀察 head(cars) 改成 knitr::kable(head(cars))</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(cars)</code></pre></div>
<pre><code>##      speed           dist       
##  Min.   : 4.0   Min.   :  2.00  
##  1st Qu.:12.0   1st Qu.: 26.00  
##  Median :15.0   Median : 36.00  
##  Mean   :15.4   Mean   : 42.98  
##  3rd Qu.:19.0   3rd Qu.: 56.00  
##  Max.   :25.0   Max.   :120.00</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(cars)</code></pre></div>
<p><img src="index_files/figure-html/codeChunkEx1-1.png" title="" alt="" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(cars)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">knitr::<span class="kw">kable</span>(<span class="kw">head</span>(cars))</code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">speed</th>
<th align="right">dist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">4</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">10</td>
</tr>
<tr class="odd">
<td align="right">7</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="right">7</td>
<td align="right">22</td>
</tr>
<tr class="odd">
<td align="right">8</td>
<td align="right">16</td>
</tr>
<tr class="even">
<td align="right">9</td>
<td align="right">10</td>
</tr>
</tbody>
</table>
</div>
<div id="basic-chunk-options" class="section level4">
<h4>Basic Chunk Options</h4>
<ul>
<li><code>echo</code>(TRUE): whether to include R source code in the output file<br />
</li>
<li><code>eval</code>(TRUE): whether to evaluate the code chunk<br />
</li>
<li><code>message</code>(TRUE): whether to preserve messages emitted by message()<br />
</li>
<li><code>include</code>(TRUE): whether to be written into the output document, but the code is still evaluated and plot files are generated<br />
</li>
<li><code>warning</code>(TRUE): whether to preserve warnings in the output</li>
<li><code>comment</code>(“##”): set to comment notation</li>
<li><code>results</code>(‘hide’,‘asis’): hide output ; asis treats the output of your R code as literal Markdown (when using like kable function)</li>
</ul>
<p>Set global chunk options at code chunks header:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">knitr::opts_chunk$<span class="kw">set</span>(<span class="dt">comment=</span><span class="st">&quot;&quot;</span>, <span class="dt">message=</span><span class="ot">FALSE</span>, <span class="dt">warning=</span><span class="ot">FALSE</span>, <span class="dt">fig.width=</span><span class="dv">12</span>, <span class="dt">fig.height=</span><span class="fl">8.5</span>)
<span class="kw">library</span>(datasets)
<span class="kw">library</span>(dplyr)
<span class="kw">library</span>(ggplot2)
<span class="kw">library</span>(devtools)
<span class="kw">library</span>(reshape2)
<span class="kw">library</span>(rmarkdown)
<span class="kw">library</span>(knitr)
<span class="kw">library</span>(plotly)</code></pre></div>
</div>
</div>
<div id="rendering" class="section level2">
<h2>3.4 Rendering</h2>
<ul>
<li>RStudio: “Knit” command (Ctrl+Shift+K)</li>
<li>Command line: rmarkdown::render function</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rmarkdown::<span class="kw">render</span>(<span class="st">&quot;input.Rmd&quot;</span>)</code></pre></div>
<div id="hw-" class="section level4">
<h4>[練習&amp;HW] 各種輸出</h4>
<ul>
<li>輸出圖片 <img src="https://bank.sinopac.com/bsp/images/logo_bsp.gif" alt="" /></li>
<li>試著畫出之前的長條圖與線圖</li>
<li>HINT: <img src="img/BarChart.png" alt="" /></li>
<li>HINT: <img src="img/LineChart.png" alt="" /></li>
</ul>
</div>
<div id="reference" class="section level3">
<h3>3.5 Reference</h3>
<ul>
<li><a href="https://www.coursera.org/course/repdata">Reproducible Research</a></li>
<li><a href="http://shiny.rstudio.com/gallery/">Shiny Gallery</a></li>
<li><a href="http://shiny.rstudio.com/articles/">Shiny Atricles</a></li>
</ul>
<!-- end of list -->
<div id="qa" class="section level4">
<h4>3.6 Q&amp;A</h4>
<hr />
</div>
</div>
</div>
</div>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
